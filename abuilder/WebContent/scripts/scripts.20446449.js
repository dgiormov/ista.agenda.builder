"use strict";angular.module("istaAngularApp",["ngAnimate","ngCookies","ngResource","ngRoute","ngSanitize","ngTouch"]).config(["$routeProvider",function(a){a.when("/days/:id",{templateUrl:"views/main.html",controller:"MainCtrl"}).when("/sessions/:id",{templateUrl:"views/sessiondetails.html",controller:"DetailsCtrl"}).when("/codes",{templateUrl:"views/codes.html",controller:"CodesCtrl"}).when("/ranking",{templateUrl:"views/ranking.html",controller:"RankingCtrl"}).otherwise({redirectTo:"/days/26"})}]),jQuery(document).ready(function(){jQuery("#navbar-ex1-collapse").click(function(){jQuery("#navbar-ex1-collapse").collapse("hide")})}),angular.module("istaAngularApp").controller("MainCtrl",["$scope","$routeParams","session","PersonService",function(a,b,c,d){a.selected=!1,a.sessions=c.query({date:b.id}),a.getTrackClass=function(a){return a.replace(" ","-").toLowerCase()},a.addSession=function(a,b){b.preventDefault(),(new d).$save({id:a.id,isSelected:!a.isSelected},function(){a.isSelected=!a.isSelected})},a.isSelected=function(a){return a?"session-added":"not-added"},a.isChecked=function(a){return a?"fa-check":"fa-plus"},a.filterSessions=function(b){a.selected=b},a.getSelectedAgendaClass=function(b){return a.selected&&b||!a.selected&&!b?"panel-link-active":""}}]).filter("isSelectedElement",function(){return function(a,b){if(!b)return a;for(var c=[],d=0;d<a.length;d++)a[d].isSelected&&c.push(a[d]);return c}}),angular.module("istaAngularApp").controller("DetailsCtrl",["$scope","$routeParams","sessionDetails","sessionComments","RatingService",function(a,b,c,d,e){a.descrClass="description-collapsed",a.session=c.get({id:b.id}),a.refreshComments=function(){a.comments=d.query({session_id:b.id}),a.comment=""},a.refreshComments(),a.onSave=function(){d.save({session_id:b.id},{data:a.comment}),a.refreshComments()},a.expandColapse=function(){a.descrClass="description-expanded"===a.descrClass?"description-collapsed":"description-expanded"},a.getStarSelectedClass=function(b){return b<=a.session.rating?"yes-rated":"not-rated"},a.rate=function(b,c){(new e).$save({sessionId:c.id,rating:b},function(){a.session.rating=b},function(){a.session.rating=0})}}]),angular.module("istaAngularApp").service("session",["$resource",function(a){return a("rest/sessions")}]).service("PersonService",["$resource",function(a){return a("rest/book/session")}]),angular.module("istaAngularApp").service("sessionDetails",["$resource",function(a){return a("rest/sessions/:id")}]).service("RatingService",["$resource",function(a){return a("rest/rating/session")}]),angular.module("istaAngularApp").service("sessionComments",["$resource",function(a){return a("/rest/comments/:session_id")}]),angular.module("istaAngularApp").controller("CodesCtrl",["$scope",function(){}]),angular.module("istaAngularApp").service("codes",["$resource",function(a){return a("rest/codes")}]),angular.module("istaAngularApp").controller("RankingCtrl",["$scope","ranking",function(a,b){a.allRanking=b.get()}]),angular.module("istaAngularApp").service("ranking",["$resource",function(a){return a("/rest/ranking")}]);